#!/usr/bin/env node

var osmFeed = require('../lib'),
    program = require('commander')

program
    .command('titles')
    .description('Titles of Latest Changesets')
    .action(function(src, options) {
        osmFeed.get(src, osmFeed.titles)
    })

program
    .command('summaries')
    .description('Summaries of Latest Changesets')
    .action(function(src, options) {
        osmFeed.get(src, osmFeed.summaries)
    })

program
    .command('users')
    .description('List all users who contributed')
    .action(function(src, options) {
        osmFeed.get(src, osmFeed.users)
    })

program
    .command('changesets')
    .description('List all changesets')
    .action(function(src, options) {
        osmFeed.get(src, osmFeed.changesets)
    })

program
  .option('-l, --limit <n>', 'A limit for the number of desired results', parseInt, undefined)
  .option('-f, --format <string>', 'The desired format of the output', String, 'txt')
  .option('-o, --outFile <path/to/file.ext>', 'A file to write the output, defaults to stdout', String)

program.parse(process.argv)